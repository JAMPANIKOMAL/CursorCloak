<!-- =================================================================================== -->
<!--  FILE 1: MainWindow.xaml (The NEW UI Design)                                        -->
<!--  This file defines the layout and appearance of our application window.               -->
<!-- =================================================================================== -->
<Window x:Class="CursorCloak.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="CursorCloak" Height="350" Width="360"
        WindowStyle="SingleBorderWindow" ResizeMode="CanMinimize"
        Background="#0e1218" Foreground="#e6edf3"
        FontFamily="Segoe UI"
        WindowStartupLocation="CenterScreen"
        Icon="Resources/app-icon.ico">

    <Window.Resources>
        <!-- Style for our custom ToggleSwitch -->
        <Style x:Key="StyledToggleSwitch" TargetType="{x:Type CheckBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type CheckBox}">
                        <Border x:Name="border" Width="44" Height="22" CornerRadius="11" 
                                Background="#2A2E37" BorderBrush="#444952" BorderThickness="1"
                                SnapsToDevicePixels="True">
                            <Ellipse x:Name="dot" Fill="#7d8590" Width="14" Height="14" 
                                     HorizontalAlignment="Left" Margin="3,0,0,0"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#0078D7"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#0078D7"/>
                                <Setter TargetName="dot" Property="HorizontalAlignment" Value="Right"/>
                                <Setter TargetName="dot" Property="Fill" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!-- Main Grid with a thin blue line at the top -->
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Thin blue accent line -->
        <Border Grid.Row="0" Height="2" Background="#0078D7" VerticalAlignment="Top"/>

        <!-- Main Content Area -->
        <StackPanel Grid.Row="1" Margin="25" VerticalAlignment="Center">

            <!-- Main Toggle Section -->
            <Grid Margin="0,0,0,40">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="CURSOR HIDING" Foreground="#ccc" FontWeight="SemiBold" 
                           VerticalAlignment="Center" FontSize="14"/>
                <CheckBox Grid.Column="1" x:Name="MainToggle" Style="{StaticResource StyledToggleSwitch}" 
                          HorizontalAlignment="Right" Click="MainToggle_Click"/>
            </Grid>

            <!-- Hotkey Settings -->
            <StackPanel Margin="0,0,0,40">
                <TextBlock Text="HOTKEY" Foreground="#888" FontWeight="SemiBold" Margin="0,0,0,10"/>
                <TextBlock x:Name="HotkeyTextBlock" Text="Alt + H / Alt + S" 
                           TextAlignment="Center" FontSize="16" Foreground="#ccc"
                           Background="#1C2026" Padding="12">
                    <TextBlock.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="6"/>
                        </Style>
                    </TextBlock.Resources>
                </TextBlock>
            </StackPanel>

            <!-- Startup Option -->
            <CheckBox x:Name="StartupCheck" Content="Start with Windows" 
                      Foreground="#ccc" FontSize="14" Click="StartupCheck_Click"/>
        </StackPanel>
    </Grid>
</Window>